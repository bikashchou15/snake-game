<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=400, initial-scale=1.0">
<title>Snake Game</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #1a1a1a, #333);
    color: #fff;
    font-family: 'Poppins', sans-serif;
    height: 120vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  h1 {
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 2px;
  }
  #mainWrapper {
    display: flex;
    justify-content: center;   /* center horizontally on the page */
    align-items: center;       /* vertically center game and instructions */
    gap: 40px;                 /* horizontal space between game and instructions */
    min-height: 100vh;         /* full viewport height to enable vertical centering */
    padding: 20px;
    box-sizing: border-box;
  }
  #gameContainer {
    display: flex;
    flex-direction: column;    /* stack score, buttons, canvas vertically */
    align-items: center;
    justify-content: center;
  }
  #score {
    font-size: 22px;
    margin-bottom: 15px;
    text-align: center;
  }
  .center-btn-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-bottom: 15px;
  }
  .game-btn {
    padding: 10px 25px;
    background: #4CAF50;
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 18px;
    cursor: pointer;
    transition: background 0.3s, transform 0.1s;
  }
  .game-btn:hover {
    background: #23bb2ba6;
    transform: scale(1.05);
  }
  canvas {
    background-color: #2c2c2c;
    border: 3px solid #4CAF50;
    box-shadow: 0px 0px 20px #4CAF50;
    display: block;
  }
  #gameOver {
    font-size: 22px;
    color: #bb23239d;
    margin-top: 10px;
    display: none;
    text-align: center;
  }
  #instructions {
    width: 220px;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid #4CAF50;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 10px #4CAF50;
    font-size: 16px;
    display: flex;
    flex-direction: column;
    justify-content: center;   /* vertically center instructions text */
  }
  #instructions h3 {
    margin-top: 0;
    color: #25912a;
    text-align: center;
  }
  #instructions ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
  }
  #instructions li {
    padding: 8px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  #instructions li:last-child {
    border-bottom: none;
  }
  #creditsBox {
    position: fixed;
    bottom: 10px;
    left: 10px;
    background: rgba(45, 163, 114, 0.85);
    color: rgb(49, 80, 219);
    padding: 6px 12px;
    font-size: 14px;
    border-radius: 6px;
    font-weight: 600;
    font-family: 'Poppins', sans-serif;
    box-shadow: 0 0 8px #4CAF50;
    user-select: none;
    z-index: 1000;
  }
</style>
</head>
<body>

<h1>Snake Game</h1>
<div id="mainWrapper">
  <div id="gameContainer">
    <div id="score">Score: 0</div>
    <div class="center-btn-row">
      <button id="playBtn" class="game-btn">Play</button>
      <button id="pauseBtn" class="game-btn" style="display:none;">Pause</button>
    </div>
    <canvas id="gameBoard" width="400" height="400"></canvas>
    <div id="gameOver">Game Over!<br>Click Play to restart.</div>
  </div>

  <div id="instructions">
    <h3>Controls</h3>
    <ul>
      <li>⬆  Arrow Up – Move Up</li>
      <li>⬇  Arrow Down – Move Down</li>
      <li>⬅  Arrow Left – Move Left</li>
      <li>➡  Arrow Right – Move Right</li>
    </ul>
  </div>
</div>

<div id="creditsBox">IP project made by Bikash and Himan</div>

<script>
  const canvas = document.getElementById('gameBoard');
  const ctx = canvas.getContext('2d');
  const box = 20;
  let snake = [];
  let food = {};
  let score = 0;
  let dir;
  let game;
  const speed = 150;
  let running = false;
  let paused = false;

  const playBtn = document.getElementById('playBtn');
  const pauseBtn = document.getElementById('pauseBtn');
  const scoreDisplay = document.getElementById('score');
  const gameOverText = document.getElementById('gameOver');

  function randomFood() {
    food = {
      x: Math.floor(Math.random() * 20) * box,
      y: Math.floor(Math.random() * 20) * box
    };
    for (let segment of snake) {
      if (food.x === segment.x && food.y === segment.y) return randomFood();
    }
  }

  function startGame() {
    snake = [
      {x: 9 * box, y: 9 * box},
      {x: 8 * box, y: 9 * box},
      {x: 7 * box, y: 9 * box}
    ];
    dir = 'RIGHT';
    score = 0;
    paused = false;
    running = true;
    randomFood();
    scoreDisplay.textContent = 'Score: 0';
    gameOverText.style.display = 'none';
    pauseBtn.textContent = 'Pause';
    pauseBtn.style.display = 'inline-block';
    clearInterval(game);
    game = setInterval(draw, speed);
  }

  document.addEventListener('keydown', function (event) {
    if (!running) return;
    if (event.key === ' ' && pauseBtn.style.display !== 'none') {
      togglePause();
    }
    direction(event);
  });

  function direction(event) {
    if (event.key === 'ArrowLeft' && dir !== 'RIGHT') dir = 'LEFT';
    else if (event.key === 'ArrowUp' && dir !== 'DOWN') dir = 'UP';
    else if (event.key === 'ArrowRight' && dir !== 'LEFT') dir = 'RIGHT';
    else if (event.key === 'ArrowDown' && dir !== 'UP') dir = 'DOWN';
  }

  function draw() {
    if (paused) return;

    ctx.fillStyle = '#2c2c2c';
    ctx.fillRect(0, 0, 400, 400);

    for (let i = 0; i < snake.length; i++) {
      ctx.fillStyle = i === 0 ? '#76FF03' : '#4CAF50';
      ctx.fillRect(snake[i].x, snake[i].y, box, box);
      ctx.strokeStyle = '#1a1a1a';
      ctx.strokeRect(snake[i].x, snake[i].y, box, box);
    }

    ctx.fillStyle = '#FF4444';
    ctx.fillRect(food.x, food.y, box, box);

    let headX = snake[0].x;
    let headY = snake[0].y;

    if (dir === 'LEFT') headX -= box;
    if (dir === 'UP') headY -= box;
    if (dir === 'RIGHT') headX += box;
    if (dir === 'DOWN') headY += box;

    if (headX < 0 || headY < 0 || headX >= 400 || headY >= 400 || collision({ x: headX, y: headY })) {
      clearInterval(game);
      running = false;
      pauseBtn.style.display = 'none';
      gameOverText.style.display = 'block';
      return;
    }

    let newHead = { x: headX, y: headY };

    if (headX === food.x && headY === food.y) {
      score += 10;
      scoreDisplay.textContent = 'Score: ' + score;
      randomFood();
    } else {
      snake.pop();
    }
    snake.unshift(newHead);
  }

  function collision(head) {
    return snake.some(segment => segment.x === head.x && segment.y === head.y);
  }

  function togglePause() {
    if (!running) return;
    paused = !paused;
    pauseBtn.textContent = paused ? 'Resume' : 'Pause';
  }

  playBtn.addEventListener('click', startGame);
  pauseBtn.addEventListener('click', togglePause);
</script>

</body>
</html>